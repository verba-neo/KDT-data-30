{% extends "base.html" %}

{% block content %}
<h1>{{ article.title }}</h1>
<h2>{{ article.user }} </h2>

<p>
  {{ article.content }}
</p>

<div>
  <a href="{% url "board:update" article.pk %}">
    <button>수정</button>
  </a>
</div>
<div>
  <form action="{% url "board:delete" article.pk %}" method="POST">
    {% csrf_token %}
    <button onclick="return confirm('진짜 삭제?')">
      삭제
    </button>
  </form>
</div>

<hr>

<form action="{% url "board:create_comment" article.pk %}" method="POST">
  {% csrf_token %}
  {{ form }}
  <button>댓글작성</button>
</form>

<div>
  <ul>
  {% for comment in article.comment_set.all %}
    <li>
      {{ comment.user }} => {{ comment.content }}
      <form action="{% url "board:delete_comment" article.pk comment.pk %}" method="POST" style="display: inline-block;">
        {% csrf_token %}
        <button onclick="return confirm('댓글 삭제?')">삭제</button>
      </form>
    </li>
  {% endfor %}
  </ul>
</div>


{% endblock content %}